# PDF 문제은행 추출 시스템 v1.2 - 사용 설명서

## 📝 현재 상태

모든 구성 요소가 완성되었습니다:
- ✅ Python 백엔드 (extract.py)
- ✅ 문항 추출 시스템
- ✅ 표 추출 시스템
- ✅ 검증 시스템
- ✅ 학습 프론트엔드 (index.html)
- ✅ Admin 페이지 (admin.html)
- ✅ 스마트 정답 시스템
- ✅ 이미지 매칭

## 🚀 실행 방법

### 1단계: 환경 설정

#### API 키 설정
`.env` 파일을 열고 다음 중 하나를 추가하세요:
```env
OPENAI_API_KEY=sk-your-key-here
```

또는 Cursor AI를 사용하는 경우:
```env
CURSOR_API_KEY=your-cursor-key-here
```

> 💡 **참고**: 메모리에 따르면 사용자는 Cursor AI를 기본으로 사용합니다. [[memory:6942881]]

### 2단계: Python 의존성 설치

PowerShell에서 실행:
```powershell
pip install -r requirements.txt
```

설치 패키지:
- PyPDF2: PDF 파일 읽기
- pdfplumber: PDF 텍스트 추출
- openai: API 호출
- pydantic: 데이터 검증
- python-dotenv: 환경 변수 관리

### 3단계: PDF 추출 실행

```powershell
python extract.py
```

이 명령어는 다음 파일들을 생성합니다:
- `items.jsonl`: 문항 데이터 (약 180개 추정) [[memory:8593359]]
- `tables.jsonl`: 표 데이터
- `report.json`: 검증 리포트

예상 실행 시간: 5-10분 (PDF 크기에 따라)

### 4단계: 결과 확인

#### 학습 시스템 열기
메모리에 따르면 사용자는 index.html을 직접 엽니다. [[memory:8550775]]

**Windows에서:**
```powershell
start index.html
```

**또는 브라우저에서 직접:**
- `index.html` 파일을 더블클릭
- 또는 브라우저에서 파일 열기

#### Admin 페이지 열기
```powershell
start admin.html
```

## 📚 학습 시스템 사용법

### 첫 실행 시
시스템이 처음 시작될 때 지원되는 정답 형식 안내 팝업이 나타납니다. [[memory:8593353]]

### 5가지 학습 모드

1. **순차 풀기**: 문제를 순서대로 학습
2. **랜덤 풀기**: 무작위 순서로 학습
3. **범위 설정**: 특정 범위(예: 1-30번)만 학습
4. **오답만 풀기**: 틀린 문제만 반복
5. **체크한 문제**: 북마크한 문제만 학습

### 정답 입력 형식

다음 형식 모두 인식됩니다:
- **숫자**: 1, 2, 3, 4
- **영문**: a, b, c, d (대소문자 무시)
- **한글**: ㄱ, ㄴ, ㄷ, ㄹ
- **번호**: ①, ②, ③, ④
- **복수 정답**: 1, 2 또는 ①②
- **동의어**: 애자일 = Agile = agile

### 기능

- ✅ **자동 저장**: LocalStorage에 학습 진도 저장
- ✅ **통계 표시**: 진행률, 정답률, 오답 수
- ✅ **해설 보기**: 각 문제의 해설 확인
- ✅ **이미지 표시**: 문제에 포함된 이미지 자동 표시
- ✅ **진도 초기화**: 통계 초기화 버튼

## 🔍 Admin 페이지 기능

### 리포트 탭
- 총 페이지 수
- 총 문항 수
- 총 표 수
- 실패/경고 수
- 상태 배지 (100% 정확도 달성 여부)

### 문항 검수 탭
- 모든 문항 확인
- 원문 텍스트 대조
- 이미지 연결 확인

### 표 검수 탭
- 표 구조 확인
- 캡션 확인
- 셀 내용 확인

### 검증 결과 탭
- 자동 검증 상세 결과
- 문제 발생 항목 표시

## ⚠️ 주의사항

### 100% 정확도 기준
- **실패 = 0**: 금지 패턴, 무결성 검사 통과
- **경고 = 0**: 불확실한 항목 없음
- **검증 통과**: 원문 바이트 등가 보존

### 데이터 품질
- 모든 데이터는 실제 데이터만 사용 [[memory:6435821]]
- 추정/가상 데이터 완전 차단
- 검증되지 않은 정보 사용 금지

### 재현성
- 온도: 0.0
- top_p: 0.1
- 같은 버전으로 재실행 시 동일 결과

## 🔧 문제 해결

### API 키 오류
```
Error: Invalid API key
```
→ `.env` 파일에 올바른 API 키가 있는지 확인

### PDF 추출 실패
```
Error: Could not extract text
```
→ PDF 파일이 존재하는지 확인 (`keyword130.pdf`)

### 이미지 로드 실패
```
404: images/xxx.png
```
→ `images/` 폴더에 해당 파일이 있는지 확인

### 학습 데이터 로드 실패
```
Error: Failed to load items.jsonl
```
→ 먼저 `python extract.py`를 실행하여 데이터 생성

## 📊 예상 결과

### 추출 결과
- 문항: 약 180개 [[memory:8593359]]
- 표: 약 10-20개
- 이미지: `images/` 폴더의 파일 자동 매칭

### 검증 결과
목표: `failures=0, warnings=0`

## 🚢 배포 (선택)

Vercel을 통한 정적 호스팅:
1. Vercel 계정 생성
2. GitHub에 코드 푸시
3. Vercel에서 프로젝트 연결
4. 자동 배포

> 💡 참고: 메모리에 따르면 사용자는 빌드 시 Git → Vercel을 통한 정식 배포를 선호합니다.

## 📞 지원

문제가 발생하면:
1. `report.json` 확인
2. Admin 페이지에서 검수 결과 확인
3. 문제 발생 항목 수동 수정

## 📝 업데이트 히스토리

- v1.2: Cursor AI 단일 추출 시스템 구축 완료
- 검증 시스템 포함
- 100% 정확도 목표
- 5가지 학습 모드
- 스마트 정답 시스템

