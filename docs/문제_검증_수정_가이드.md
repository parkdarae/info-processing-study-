# 기출문제 검증 및 수정 가이드

## 개요

본 가이드는 자동 검증 시스템을 통해 발견된 문제들을 수동으로 수정하는 방법을 안내합니다.

전체 문제 중 **199개**의 이슈가 발견되었으며, 우선순위에 따라 체계적으로 수정해야 합니다.

---

## 1. 검증 결과 확인 방법

### 1.1 전체 검증 결과 확인

```bash
# 전체 검증 결과 파일 확인
cat data/validation_issues.json
```

### 1.2 우선순위별 수정 대상 확인

```bash
# 우선순위별 정리된 리스트 확인
cat data/fix_priority_list.json
```

**우선순위별 이슈 개수:**
- **우선순위 1 (이미지 누락):** 34개
- **우선순위 2 (정답 불일치):** 5개
- **우선순위 3 (해설 품질):** 160개

---

## 2. 우선순위별 수정 절차

### 우선순위 1: 이미지 누락 (34개)

**증상:** `question_text`에 "아래", "다음 코드", "그림" 등이 있는데 `image_refs`가 비어있음

**수정 절차:**

1. **Tistory 원본 확인**
   - `fix_priority_list.json`에서 해당 문제의 `tistory_url` 복사
   - 브라우저에서 열기
   - 해당 문제 번호로 이동하여 이미지/코드 확인

2. **이미지 다운로드**
   - 원본 이미지를 우클릭 → 다른 이름으로 저장
   - 저장 위치: `images/{doc_id}/`
   - 파일명: `{q_no}.png` (예: `Q015.png`)

3. **JSONL 파일 수정**
   - Cursor에서 Ctrl+F로 해당 파일 열기
   - `"q_no": "Q015"` 검색
   - `image_refs` 필드 수정:
     ```json
     "image_refs": ["images/2024_round1/Q015.png"]
     ```

**수정 예시:**

```json
// Before
{
  "q_no": "Q015",
  "question_text": "다음 코드를 보고 출력 결과를 쓰시오.",
  "image_refs": [],
  ...
}

// After
{
  "q_no": "Q015",
  "question_text": "다음 코드를 보고 출력 결과를 쓰시오.",
  "image_refs": ["images/2024_round1/Q015.png"],
  ...
}
```

---

### 우선순위 2: 정답 불일치 (5개)

**증상:** 
- `answer.keys`가 비어있거나 "정답 없음"
- 객관식인데 `choices` 배열이 비어있음

**수정 절차:**

1. **Tistory 원본 확인**
   - 해당 문제의 `tistory_url` 접속
   - 정답 및 보기 확인

2. **정답 수정**
   - `answer.keys` 배열에 정답 추가
   - `answer.raw_text`도 함께 수정
   
   ```json
   "answer": {
     "keys": ["RARP"],
     "raw_text": "RARP"
   }
   ```

3. **보기 추가 (객관식인 경우)**
   ```json
   "choices": [
     {"label": "①", "text": "ARP"},
     {"label": "②", "text": "RARP"},
     {"label": "③", "text": "DHCP"},
     {"label": "④", "text": "DNS"}
   ]
   ```

**수정 예시:**

```json
// Before
{
  "q_no": "Q003",
  "answer": {
    "keys": [],
    "raw_text": "정답 없음"
  },
  "choices": []
}

// After
{
  "q_no": "Q003",
  "answer": {
    "keys": ["②"],
    "raw_text": "②"
  },
  "choices": [
    {"label": "①", "text": "선택지1"},
    {"label": "②", "text": "선택지2"},
    {"label": "③", "text": "선택지3"},
    {"label": "④", "text": "선택지4"}
  ]
}
```

---

### 우선순위 3: 해설 품질 (160개)

**증상:**
- 해설이 너무 짧음 (50자 미만)
- 범용적인 설명 문구 사용
- 문제 내용과 연관성 부족
- 구체적인 설명 부족

**수정 절차:**

1. **Tistory 원본 확인**
   - 원본 문제, 보기, 정답, 해설 확인
   - 이미지/코드/표가 있는지 확인

2. **이미지/코드 내용 파악**
   - `image_refs`에 이미지가 있으면 열어서 내용 확인
   - 코드, 표, 다이어그램 등의 실제 내용 파악

3. **구체적인 해설 작성**
   - **문제 특정 내용 포함:** 코드 변수명, 실제 숫자, 데이터베이스 테이블명 등
   - **단계별 설명:** 코드 실행 과정, 계산 과정 등을 단계별로 상세히 설명
   - **범용 문구 제거:** "이 문제는 OO 분야의 핵심 개념..." 같은 문구 삭제
   - **실제 분석 포함:** "변수 x는 5이므로...", "테이블 R의 Cardinality는 4이므로..." 등

**해설 개선 예시:**

```markdown
// Before (범용적, 짧음)
이 문제는 C언어 포인터 분야의 핵심 개념을 이해하는 문제입니다.
문제 해석: 포인터와 문자열을 이해합니다.
정답은 ②입니다.

// After (구체적, 상세함)
[코드 분석]
1. char *p = "KOREA"; 선언:
   - p는 문자열 리터럴 "KOREA"를 가리키는 포인터
   - 메모리: K(0) O(1) R(2) E(3) A(4) \0(5)

2. printf("%s", p+3); 실행:
   - p+3은 인덱스 3 위치를 가리킴
   - 인덱스 3부터 출력: "EA"

[출력 결과]
EA

[핵심 개념]
포인터 연산: p+n은 배열의 n번째 인덱스를 가리키며, 
%s는 해당 위치부터 NULL 문자까지 출력합니다.
```

**코드 문제 해설 템플릿:**

```markdown
[코드 분석]
1. 변수 선언 및 초기화
   - 변수명: 초기값 및 의미

2. 실행 과정
   - 단계별 실행 흐름
   - 각 단계에서의 변수 값 변화

3. 최종 결과
   - 출력값 또는 반환값

[핵심 개념]
해당 문제에서 사용된 주요 개념 설명
```

---

## 3. Cursor에서 1:1 수정 방법

### 3.1 파일 찾기

1. Ctrl+P (파일 검색)
2. 파일명 입력: `items_2024_round1.jsonl`

### 3.2 문제 찾기

1. Ctrl+F (파일 내 검색)
2. 검색어: `"q_no": "Q015"`

### 3.3 수정

1. 해당 필드로 이동
2. 내용 수정
3. Ctrl+S 저장

### 3.4 주의사항

- **JSON 형식 유지:** 쉼표, 따옴표, 중괄호 등 문법 오류 주의
- **이스케이프 문자:** 줄바꿈(`\n`), 따옴표(`\"`) 처리
- **배열 형식:** `image_refs`, `choices` 등은 배열 형태 유지

---

## 4. 수정 예시 모음

### 예시 1: 이미지 추가

**문제:** 2024년 1회 Q015

```json
// Before
{
  "q_no": "Q015",
  "question_text": "다음 Java 코드의 출력 결과를 쓰시오.",
  "image_refs": [],
  "explanation": "Java 코드 실행 결과입니다."
}

// After
{
  "q_no": "Q015",
  "question_text": "다음 Java 코드의 출력 결과를 쓰시오.",
  "image_refs": ["images/2024_round1/Q015.png"],
  "explanation": "[코드 분석]\n1. 클래스 Test 선언:\n   - static 변수 x = 10\n   - instance 변수 x = 20\n\n2. main 메서드 실행:\n   - Test.x (static) = 10\n   - new Test().x (instance) = 20\n   - 출력: 10 20\n\n[출력 결과]\n10 20"
}
```

### 예시 2: 정답 수정

**문제:** 2024년 2회 Q003

```json
// Before
{
  "q_no": "Q003",
  "answer": {
    "keys": [],
    "raw_text": "정답 없음"
  },
  "choices": []
}

// After
{
  "q_no": "Q003",
  "answer": {
    "keys": ["②"],
    "raw_text": "②"
  },
  "choices": [
    {"label": "①", "text": "IaaS"},
    {"label": "②", "text": "PaaS"},
    {"label": "③", "text": "SaaS"},
    {"label": "④", "text": "DaaS"}
  ]
}
```

### 예시 3: 해설 개선

**문제:** 2023년 1회 Q012

```json
// Before
{
  "explanation": "이 문제는 데이터베이스 분야의 핵심 개념을 이해하는 문제입니다. 문제를 해석하고 답을 찾습니다."
}

// After
{
  "explanation": "[데이터베이스 3단계 스키마]\n\n1. 외부 스키마 (External Schema):\n   - 사용자 관점의 스키마\n   - 개별 사용자가 보는 데이터베이스 구조\n   - 여러 개 존재 가능\n\n2. 개념 스키마 (Conceptual Schema):\n   - 조직 전체의 관점\n   - 모든 응용 시스템이나 사용자가 필요로 하는 데이터 통합\n   - 하나만 존재\n   - 데이터베이스의 전체 논리적 구조\n\n3. 내부 스키마 (Internal Schema):\n   - 물리적 저장 구조\n   - 실제 데이터 저장 방법 정의\n   - 하나만 존재\n\n[정답]\n개념 스키마 (Conceptual Schema)"
}
```

---

## 5. 검증 재실행

수정 완료 후 검증 스크립트를 재실행하여 이슈가 해결되었는지 확인합니다.

```bash
# 1. scripts 디렉토리로 이동
cd scripts

# 2. 검증 스크립트 실행
py validate_question_quality.py

# 3. 결과 확인
cd ..
cat data/validation_issues.json
cat data/fix_priority_list.json
```

**확인 사항:**
- 수정한 문제가 이슈 리스트에서 사라졌는지 확인
- 총 이슈 개수가 감소했는지 확인
- 새로운 이슈가 생기지 않았는지 확인

---

## 6. 작업 진행 체크리스트

### 우선순위 1: 이미지 누락 (34개)

- [ ] 2021_round1 Q002
- [ ] 2022_round1 Q001
- [ ] 2022_round1 Q008
- [ ] 2022_round2 Q009
- [ ] 2022_round3 Q005
- [ ] 2022_round3 Q008
- [ ] 2022_round3 Q014
- [ ] 2022_round3 Q015
- [ ] 2022_round3 Q017
- [ ] 2023_round1 Q006
- [ ] ... (나머지 24개)

### 우선순위 2: 정답 불일치 (5개)

- [ ] 2024_round2 Q003
- [ ] 2024_round2 Q004
- [ ] 2024_round2 Q008
- [ ] 2025_round1 Q001
- [ ] 2025_round2 Q006

### 우선순위 3: 해설 품질 (160개)

품질 점수가 낮은 순서로 우선 수정:

- [ ] 2022_round2 Q019 (점수: 30)
- [ ] 2023_round2 Q020 (점수: 30)
- [ ] 2023_round3 Q009 (점수: 30)
- [ ] 2023_round3 Q013 (점수: 30)
- [ ] 2023_round3 Q019 (점수: 30)
- [ ] ... (나머지 155개)

---

## 7. 자주 묻는 질문 (FAQ)

### Q1: 이미지가 Tistory에 없는 경우는?

A: 스캔 이미지나 원본 PDF에서 직접 캡처하여 사용합니다.

### Q2: JSON 문법 오류가 발생하면?

A: 온라인 JSON 검증기 (jsonlint.com)를 사용하여 문법 확인합니다.

### Q3: 해설이 너무 길어지는 경우는?

A: 적절한 길이(200-500자)로 핵심만 추려서 작성합니다. 지나치게 길 필요는 없습니다.

### Q4: 수정 후 Vercel 배포는?

A: 수정 완료 후 Git commit & push하면 Vercel이 자동 배포합니다.

```bash
git add data/
git commit -m "Fix validation issues: priority 1-2 완료"
git push origin main
```

---

## 8. 참고 문서

- **요구사항 정의서:** `docs/요구사항정의서_기출문제_파싱.md`
- **검증 결과:** `data/validation_issues.json`
- **우선순위 리스트:** `data/fix_priority_list.json`
- **품질 리포트:** `data/poor_quality_explanations_all.json`

---

## 마무리

본 가이드를 따라 체계적으로 수정하면 **전체 199개 이슈**를 효율적으로 해결할 수 있습니다.

우선순위 1, 2를 먼저 완료하고, 우선순위 3은 품질 점수가 낮은 순서대로 진행하는 것을 권장합니다.

수정 후에는 반드시 검증을 재실행하여 결과를 확인하세요!


