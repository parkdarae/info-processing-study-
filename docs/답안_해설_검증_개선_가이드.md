# 답안 및 해설 종합 검증 및 개선 가이드

## 📋 개요

전체 답안과 해설을 재확인하고 개선하기 위한 통합 프로세스입니다.

## 🔧 사용 스크립트

### 1. 종합 검증 스크립트
```bash
python scripts/comprehensive_answer_review.py
```

**기능:**
- 모든 JSONL 파일의 답안 형식 검증
- 해설 품질 검증
- 수동 입력 CSV와 실제 데이터 비교
- 상세 검증 리포트 생성 (`data/answer_review_report.json`)

**검증 항목:**
- 답안 형식 (keys, raw_text 일치 여부)
- 답안 품질 (공백, 길이 등)
- 해설 품질 (길이, 구체성 등)
- CSV와 JSONL 일치 여부

### 2. 답안/해설 자동 개선 스크립트
```bash
python scripts/improve_answers_explanations.py
```

**기능:**
- 답안 텍스트 정규화 (공백 제거, 불필요한 공백 정리)
- 해설 텍스트 정규화 (줄바꿈 정리)
- 신뢰도 자동 업데이트
- 백업 파일 자동 생성 (`data/backups/`)

### 3. 통합 실행 스크립트
```bash
python scripts/sync_and_validate_all.py
```

**실행 순서:**
1. 수동 입력 CSV 적용 (`apply_manual_input.py`)
2. 답안/해설 자동 개선 (`improve_answers_explanations.py`)
3. 종합 검증 (`comprehensive_answer_review.py`)
4. 답안 입력률 확인 (`check_answer_rate.py`)

## 📊 현재 상태 분석

### 확인된 문제점

1. **해설 누락 문제**
   - 2021년 1회 일부 문제에 해설이 `null`로 표시됨
   - 예: Q001, Q006, Q007, Q011, Q012, Q016, Q020 등

2. **답안 형식은 양호**
   - 대부분의 문제에 답안이 정상적으로 저장됨
   - 빈 keys 배열은 발견되지 않음

3. **해설 품질**
   - 2025년도 데이터는 해설이 상세하게 작성됨
   - 일부 해설은 길이가 짧거나 구체성이 부족할 수 있음

4. **수동 입력 CSV**
   - CSV 파일이 존재하지만 일부 항목이 비어있을 수 있음

## ✅ 개선 권장 사항

### 즉시 실행 가능한 개선

1. **수동 입력 CSV 적용**
   ```bash
   python scripts/apply_manual_input.py
   ```
   - CSV에 입력된 답안과 해설을 JSONL에 반영

2. **답안/해설 정규화**
   ```bash
   python scripts/improve_answers_explanations.py
   ```
   - 형식 정리 및 품질 향상

3. **전체 검증**
   ```bash
   python scripts/comprehensive_answer_review.py
   ```
   - 현재 상태 파악 및 리포트 생성

### 수동 개선 필요 사항

1. **해설 누락 문제 보완**
   - `data/answer_review_report.json`을 확인하여 해설이 없는 문제 확인
   - `data/manual_input/manual_2021_round1.csv`에 해설 추가
   - `apply_manual_input.py` 재실행

2. **해설 품질 개선**
   - 짧은 해설(20자 미만)은 구체적인 설명 추가
   - 단순 키워드만 있는 경우 설명 문장 추가

## 📁 출력 파일

### 검증 리포트
- `data/answer_review_report.json`: 상세 검증 결과
- `data/validation_summary.json`: 검증 요약 (기존)

### 백업 파일
- `data/backups/items_*_backup_YYYYMMDD_HHMMSS.jsonl`: 자동 생성된 백업

## 🔄 워크플로우

```
1. 수동 입력 CSV 작성/수정
   ↓
2. CSV 적용 (apply_manual_input.py)
   ↓
3. 자동 개선 (improve_answers_explanations.py)
   ↓
4. 종합 검증 (comprehensive_answer_review.py)
   ↓
5. 리포트 확인 및 수동 보완
   ↓
6. 반복 (필요시)
```

## 📝 체크리스트

- [ ] 모든 회차에 답안이 있는지 확인
- [ ] 해설 누락 문제 보완
- [ ] CSV와 JSONL 일치 여부 확인
- [ ] 해설 품질 점검 (최소 50자 이상 권장)
- [ ] 백업 파일 확인
- [ ] 최종 검증 리포트 검토

## 💡 팁

1. **일괄 처리**: `sync_and_validate_all.py`를 사용하면 전체 프로세스를 한 번에 실행
2. **점진적 개선**: 한 회차씩 검증하고 개선하는 것을 권장
3. **백업 활용**: 자동 생성된 백업으로 언제든 롤백 가능
4. **리포트 분석**: JSON 리포트를 분석하여 우선순위 정하기



