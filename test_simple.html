<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서버 테스트</title>
</head>
<body>
    <h1>로컬 서버 작동 확인 ✅</h1>
    <p>이 페이지가 보인다면 서버는 정상 작동 중입니다.</p>
    
    <h2>핵심 키워드 130 데이터 로딩 테스트</h2>
    <button onclick="testDataLoading()">데이터 로딩 테스트</button>
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>
    
    <hr>
    <h2>다음 단계</h2>
    <ul>
        <li><a href="index.html">메인 페이지로 이동</a></li>
        <li><a href="items.jsonl" target="_blank">items.jsonl 파일 직접 확인</a></li>
    </ul>
    
    <script>
        async function testDataLoading() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '데이터 로딩 중...';
            
            try {
                // items.jsonl 로딩 시도
                const response = await fetch('items.jsonl');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const text = await response.text();
                const lines = text.trim().split('\n');
                const firstQuestion = JSON.parse(lines[0]);
                
                resultDiv.innerHTML = `
                    <h3 style="color: green;">✅ 데이터 로딩 성공!</h3>
                    <p><strong>총 문제 수:</strong> ${lines.length}개</p>
                    <p><strong>첫 번째 문제:</strong></p>
                    <pre style="background: #f5f5f5; padding: 10px; overflow-x: auto;">
${JSON.stringify(firstQuestion, null, 2).substring(0, 500)}...
                    </pre>
                `;
            } catch (error) {
                resultDiv.innerHTML = `
                    <h3 style="color: red;">❌ 데이터 로딩 실패</h3>
                    <p><strong>오류:</strong> ${error.message}</p>
                    <p><strong>해결 방법:</strong></p>
                    <ul>
                        <li>items.jsonl 파일이 프로젝트 루트에 있는지 확인</li>
                        <li>브라우저 콘솔(F12)에서 상세 오류 확인</li>
                        <li>CORS 문제일 수 있으니 로컬 서버 사용 확인</li>
                    </ul>
                `;
            }
        }
        
        // 페이지 로드 시 자동으로 테스트
        window.addEventListener('load', testDataLoading);
    </script>
</body>
</html>

